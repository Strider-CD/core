{"version":3,"sources":["../../lib/primus-handlers/pingPong.js"],"names":[],"mappings":";;AAAA,IAAI,SAAS,QAAQ,aAAR,EAAuB,MAAvB,CAAb;;AAEA,OAAO,OAAP,GAAiB,UAAU,KAAV,EAAiB,IAAjB,EAAuB;AACtC,MAAI,KAAK,IAAL,KAAc,MAAlB,EAA0B;AACxB,UAAM,IAAN,CAAW,KAAK,IAAhB,EAAsB,YAAY;AAChC,aAAO,IAAP,CAAa,mCAAiC,MAAM,EAAG,eAAY,KAAK,IAAK,mBAA7E;AACA,YAAM,KAAN,CAAY,EAAC,MAAM,KAAK,IAAZ,EAAkB,MAAM,MAAxB,EAAgC,KAAK,EAArC,EAAZ;AACD,KAHD;AAID,GALD,MAKO,IAAI,KAAK,IAAL,KAAc,MAAlB,EAA0B;AAC/B,UAAM,KAAN,CAAY,KAAK,IAAjB,EAAuB,YAAY;AACjC,aAAO,IAAP,CAAa,wBAAsB,MAAM,EAAG,eAAY,KAAK,IAAK,GAAlE;AACD,KAFD;AAGD;AACF,CAXD","file":"pingPong.js","sourcesContent":["var logger = require('../util/log')(module)\n\nmodule.exports = function (spark, data) {\n  if (data.type === 'ping') {\n    spark.join(data.room, function () {\n      logger.info(`Got a ping from spark with id: ${spark.id} in room: ${data.room}; sending a pong`)\n      spark.write({room: data.room, type: 'pong', msg: {}})\n    })\n  } else if (data.type === 'pong') {\n    spark.leave(data.room, function () {\n      logger.info(`Got a pong from id: ${spark.id} in room: ${data.room}`)\n    })\n  }\n}\n"]}